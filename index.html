<!-- 
  Amarsolar - Site V4
  Vers√£o com design aprimorado, mais responsivo e com foco em transi√ß√µes suaves e tipografia elegante.
  Todo o c√≥digo (HTML, CSS e JS) em um √∫nico arquivo.

  Principais melhorias:
  - Layout mais limpo e espa√ßado, utilizando flexbox e grid de forma estrat√©gica.
  - Cores e sombras mais suaves para uma apar√™ncia sofisticada.
  - Anima√ß√µes e transi√ß√µes aprimoradas para um design mais din√¢mico.
  - Se√ß√µes reorganizadas para uma navega√ß√£o mais l√≥gica.
  - Modais com design minimalista e f√°ceis de usar.
  - Tipografia otimizada para legibilidade.
  - Melhorias na responsividade para evitar espa√ßos vazios e garantir que a p√°gina se adapte a telas maiores e menores.
  
  INSTRU√á√ïES DE CONFIGURA√á√ÉO:
  - Substitua o N√öMERO DE WHATSAPP na constante WHATSAPP_NUMBER.
  - As imagens s√£o placeholders para demonstra√ß√£o; substitua por suas pr√≥prias imagens.
-->
<!doctype html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#2C1A47" />
    <title>Amarsolar - Energia Solar em Amargosa</title>
    <meta name="description" content="Amarsolar: solu√ß√µes de energia solar r√°pidas, de qualidade e com baixo custo. Projetos, or√ßamento e consultoria em Amargosa." />

    <!-- Importa√ß√£o do Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script> 
    
    <!-- Configura√ß√µes customizadas do Tailwind -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#2C1A47',
              accent: '#FFD700',
              background: '#f6f7fb',
              card: '#ffffff',
              muted: '#6b6f76',
            },
            fontFamily: {
              sans: ['Inter', 'Poppins', 'system-ui', '-apple-system', 'sans-serif'],
            },
            keyframes: {
                fadeInUp: {
                    '0%': { opacity: '0', transform: 'translateY(20px)' },
                    '100%': { opacity: '1', transform: 'translateY(0)' },
                },
            },
            animation: {
                'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
            },
          }
        }
      }
    </script>
    <!-- Link para a fonte Inter do Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-background font-sans text-primary">

    <!-- ======================== Header e Navega√ß√£o ======================== -->
    <header class="sticky top-0 z-50 flex flex-col items-center justify-between p-4 bg-white/70 backdrop-blur-lg shadow-md lg:flex-row lg:px-8">
        <div class="flex items-center gap-4">
            <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-primary to-[#3b2a6a] flex items-center justify-center text-white font-bold text-lg" aria-hidden="true">AM</div>
            <div>
                <div class="font-bold text-lg">Amarsolar</div>
                <div class="text-sm text-muted">Energia solar descomplicada</div>
            </div>
        </div>
        <nav class="flex flex-wrap justify-center gap-2 mt-4 lg:mt-0 lg:gap-4">
            <a href="#educacao" class="px-3 py-2 rounded-lg font-semibold transition-colors hover:text-accent">Entenda</a>
            <a href="#sobre" class="px-3 py-2 rounded-lg font-semibold transition-colors hover:text-accent">Sobre</a>
            <a href="#portfolio" class="px-3 py-2 rounded-lg font-semibold transition-colors hover:text-accent">Portf√≥lio</a>
            <a href="#orcamento" class="px-3 py-2 rounded-lg font-semibold transition-all bg-accent text-primary hover:bg-[#ffea61] hover:shadow-lg">Or√ßamento</a>
        </nav>
    </header>

    <main class="container mx-auto p-4 max-w-7xl">
        
        <!-- ======================== Se√ß√£o Principal (Hero) ======================== -->
        <section class="grid grid-cols-1 gap-6 lg:grid-cols-2 lg:gap-8 mt-8 lg:mt-12 animate-fade-in-up">
            <div class="bg-card p-6 rounded-3xl shadow-lg lg:p-10">
                <h1 class="text-3xl font-bold lg:text-5xl leading-tight">R√°pido. Confi√°vel. Econ√¥mico ‚Äî Energia solar que cabe no seu bolso.</h1>
                <p class="text-muted mt-4 text-lg lg:text-xl">Instala√ß√µes residenciais e comerciais com tecnologia eficiente, redu√ß√£o de custos e compromisso ambiental. Transformamos sol em economia para voc√™ e sua comunidade.</p>
                <div class="flex flex-wrap gap-3 mt-6">
                    <button class="px-6 py-3 rounded-lg font-bold bg-primary text-white transition-all hover:-translate-y-1 hover:shadow-xl" data-scroll-to="orcamento">Pe√ßa um or√ßamento</button>
                    <a href="#portfolio" class="px-6 py-3 rounded-lg font-bold bg-accent text-primary transition-all hover:-translate-y-1 hover:shadow-xl">Ver projetos</a>
                </div>
                <div class="flex flex-wrap gap-2 mt-6 lg:mt-8 text-sm lg:text-base">
                    <div class="bg-gray-100 px-3 py-2 rounded-lg shadow-sm">üöÄ Entrega √°gil</div>
                    <div class="bg-gray-100 px-3 py-2 rounded-lg shadow-sm">‚úÖ Qualidade certificada</div>
                    <div class="bg-gray-100 px-3 py-2 rounded-lg shadow-sm">üí∏ Melhor custo-benef√≠cio</div>
                </div>
                
                <!-- Simulador R√°pido -->
                <div class="mt-6 lg:mt-8 p-4 bg-gray-50 rounded-lg border border-gray-200">
                    <strong class="text-sm text-muted">Simulador r√°pido:</strong>
                    <div class="flex flex-col sm:flex-row gap-3 mt-2 items-center">
                        <input id="sim-kwh" type="number" placeholder="kWh/m√™s" class="flex-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary transition-colors">
                        <input id="sim-price" type="number" placeholder="R$/kWh (ex: 0.80)" class="flex-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary transition-colors">
                        <button class="px-4 py-2 rounded-lg font-bold bg-primary text-white transition-all hover:bg-opacity-90" id="sim-btn">Calcular</button>
                    </div>
                    <div id="sim-result" class="mt-3 text-primary font-bold"></div>
                </div>
            </div>
            
            <!-- Cart√£o de Destaque na Se√ß√£o Hero -->
            <aside class="bg-card p-6 rounded-3xl shadow-lg flex flex-col justify-between items-center text-center">
                <img src="https://placehold.co/800x600/2C1A47/FFF?text=Energia+Solar+em+Amargosa" alt="Pain√©is solares" class="w-full h-auto max-h-80 object-cover rounded-2xl mb-4">
                <h3 class="text-xl font-bold">Por que escolher a Amarsolar?</h3>
                <p class="text-muted mt-2">Atendimento local, equipe t√©cnica qualificada e solu√ß√µes customizadas para reduzir sua conta de energia.</p>
            </aside>
        </section>

        ---

        <!-- ======================== Se√ß√£o Entenda a Energia Solar ======================== -->
        <section id="educacao" class="mt-12 lg:mt-16">
            <h2 class="text-2xl font-bold lg:text-3xl">Entenda a energia solar</h2>
            <p class="text-muted mt-2">Respostas claras para as principais d√∫vidas sobre energia solar, regulamenta√ß√£o e funcionamento.</p>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-6">
                <!-- Cart√£o "O que √© energia solar?" -->
                <div class="bg-card p-5 rounded-xl shadow-md cursor-pointer transition-all hover:scale-105 hover:shadow-xl group" data-topic="o-que-e">
                    <div class="flex items-center gap-3">
                        <div class="flex-shrink-0 w-10 h-10 p-2 rounded-full bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" class="w-6 h-6"><path d="M495.6 20.2c-15.6-20.9-40.4-31.3-66.8-29.4-44.1 3.2-87.1 27.6-116.1 62.4-28.7 34.4-44.5 76.5-44.5 119.5s15.8 85.1 44.5 119.5c29 34.8 72 59.2 116.1 62.4 26.4 1.9 51.2-8.5 66.8-29.4 20.3-27.4 31.9-61.9 31.9-98.1s-11.6-70.7-31.9-98.1zM116.4 492.3c-15.6 20.9-40.4 31.3-66.8 29.4-44.1-3.2-87.1-27.6-116.1-62.4-28.7-34.4-44.5-76.5-44.5-119.5s15.8-85.1 44.5-119.5c29-34.8 72-59.2 116.1-62.4 26.4-1.9 51.2 8.5 66.8 29.4 20.3 27.4 31.9 61.9 31.9 98.1s-11.6 70.7-31.9 98.1z"/></svg>
                        </div>
                        <h4 class="font-bold">O que √© energia solar?</h4>
                    </div>
                    <p class="text-sm text-muted mt-2">Vis√£o geral sobre gera√ß√£o fotovoltaica e seus benef√≠cios.</p>
                </div>
                <!-- Cart√£o "Como funciona a instala√ß√£o?" -->
                <div class="bg-card p-5 rounded-xl shadow-md cursor-pointer transition-all hover:scale-105 hover:shadow-xl group" data-topic="como-funciona">
                    <div class="flex items-center gap-3">
                        <div class="flex-shrink-0 w-10 h-10 p-2 rounded-full bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" class="w-6 h-6"><path d="M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0l87 87c9.4 9.4 9.4 24.6 0 33.9l-87 87c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55.1-55.1L288 232c-13.3 0-24-10.7-24-24V144c0-8.8-7.2-16-16-16H160c-13.3 0-24-10.7-24-24s10.7-24 24-24h88c8.8 0 16 7.2 16 16v88c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V135.9c0-8.8-7.2-16-16-16h-48v-24c0-8.8-7.2-16-16-16H160c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V135c0-8.8-7.2-16-16-16z"/></svg>
                        </div>
                        <h4 class="font-bold">Como funciona a instala√ß√£o?</h4>
                    </div>
                    <p class="text-sm text-muted mt-2">Processo de avalia√ß√£o, projeto, instala√ß√£o e comissionamento.</p>
                </div>
                <!-- Cart√£o "Economia na conta de luz" -->
                <div class="bg-card p-5 rounded-xl shadow-md cursor-pointer transition-all hover:scale-105 hover:shadow-xl group" data-topic="economia">
                    <div class="flex items-center gap-3">
                        <div class="flex-shrink-0 w-10 h-10 p-2 rounded-full bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor" class="w-6 h-6"><path d="M352 288c0 14.2-2.3 28.1-6.7 41.2l-30.8 92.4c-4.4 13.3-16.1 22.4-29.6 22.4H240c-13.5 0-25.2-9.1-29.6-22.4l-30.8-92.4c-4.4-13.1-6.7-27-6.7-41.2V256H352v32zm-152-32H440c22.1 0 40-17.9 40-40s-17.9-40-40-40H200c-22.1 0-40 17.9-40 40s17.9 40 40 40zm104-128c11.3 0 22.2 1.3 32.7 3.9L362.5 130c2.4 1.2 4.6 2.5 6.8 3.9L408 152.1c.5 2.3 1.2 4.6 2.1 6.8l10.8-2.6c.9-2.2 1.9-4.3 3-6.4l-57.8-12.7c-6.1-1.3-12.6-.2-17.9 3.1L323.3 283c-4.2 3.1-5.7 8.3-3.9 13.3l7.1 38.6c1.8 4.9 6.5 8.1 11.6 7l97.4-21.4c2.3-.5 4.6-1.2 6.8-2.1L491.5 358c-20.9 15.6-31.3 40.4-29.4 66.8 3.2 44.1 27.6 87.1 62.4 116.1 34.4 28.7 76.5 44.5 119.5 44.5s85.1-15.8 119.5-44.5c34.8-29 59.2-72 62.4-116.1 1.9-26.4-8.5-51.2-29.4-66.8-27.4-20.3-61.9-31.9-98.1-31.9s-70.7 11.6-98.1 31.9zM512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0z"/></svg>
                        </div>
                        <h4 class="font-bold">Economia na conta de luz</h4>
                    </div>
                    <p class="text-sm text-muted mt-2">Estimativas de redu√ß√£o e retorno sobre investimento (ROI).</p>
                </div>
                <!-- Cart√£o "Regulamenta√ß√µes (ANEEL)" -->
                <div class="bg-card p-5 rounded-xl shadow-md cursor-pointer transition-all hover:scale-105 hover:shadow-xl group" data-topic="aneel">
                    <div class="flex items-center gap-3">
                        <div class="flex-shrink-0 w-10 h-10 p-2 rounded-full bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" fill="currentColor" class="w-6 h-6"><path d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zm176 128h96V192H240c-8.8 0-16-7.2-16-16v-48zM96 240H288c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H288c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg>
                        </div>
                        <h4 class="font-bold">Regulamenta√ß√µes (ANEEL)</h4>
                    </div>
                    <p class="text-sm text-muted mt-2">Informa√ß√µes essenciais sobre normas e conex√£o √† rede.</p>
                </div>
                <!-- Cart√£o "Taxa√ß√£o" -->
                <div class="bg-card p-5 rounded-xl shadow-md cursor-pointer transition-all hover:scale-105 hover:shadow-xl group" data-topic="taxacao">
                    <div class="flex items-center gap-3">
                        <div class="flex-shrink-0 w-10 h-10 p-2 rounded-full bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" class="w-6 h-6"><path d="M64 32C28.7 32 0 60.7 0 96v64c0 35.3 28.7 64 64 64H224V96c0-35.3-28.7-64-64-64H64zM224 256H64c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64H224V256zM288 32v192H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H288zM448 256H288V480H448c35.3 0 64-28.7 64-64V320c0-35.3-28.7-64-64-64z"/></svg>
                        </div>
                        <h4 class="font-bold">Taxa√ß√£o</h4>
                    </div>
                    <p class="text-sm text-muted mt-2">Como impostos e tarifas podem impactar o projeto.</p>
                </div>
                <!-- Cart√£o "Falta de luz" -->
                <div class="bg-card p-5 rounded-xl shadow-md cursor-pointer transition-all hover:scale-105 hover:shadow-xl group" data-topic="falta-luz">
                    <div class="flex items-center gap-3">
                        <div class="flex-shrink-0 w-10 h-10 p-2 rounded-full bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="currentColor" class="w-6 h-6"><path d="M384 80c0-44.2-35.8-80-80-80h-48c-44.2 0-80 35.8-80 80v24c0 44.2 35.8 80 80 80h48c44.2 0 80-35.8 80-80V80zM352 352H224c-17.7 0-32 14.3-32 32s14.3 32 32 32H352c17.7 0 32-14.3 32-32s-14.3-32-32-32zM128 288c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V352c0-35.3-28.7-64-64-64H128z"/></svg>
                        </div>
                        <h4 class="font-bold">Falta de luz</h4>
                    </div>
                    <p class="text-sm text-muted mt-2">O que acontece quando falta energia na rede e solu√ß√µes com baterias.</p>
                </div>
            </div>
            
            <!-- Modal para os T√≥picos de Educa√ß√£o -->
            <dialog id="topic-modal" class="p-6 rounded-2xl shadow-2xl backdrop:bg-black/50 w-full max-w-xl">
                <button class="absolute top-4 right-4 text-xl text-gray-400 hover:text-gray-600 transition-colors" onclick="closeModals()">‚úï</button>
                <div id="topic-content" class="pt-4"></div>
            </dialog>
        </section>

        ---

        <!-- ======================== Se√ß√£o Sobre a Amarsolar ======================== -->
        <section id="sobre" class="mt-12 lg:mt-16">
            <h2 class="text-2xl font-bold lg:text-3xl">Sobre a Amarsolar</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
                <div>
                    <p>"A Amarsolar nasceu com o prop√≥sito de transformar a forma como as pessoas consomem energia, oferecendo solu√ß√µes sustent√°veis e acess√≠veis de energia solar. Fundada em Amargosa, nossa empresa tem ra√≠zes fortes na regi√£o e um compromisso com o desenvolvimento local, buscando sempre a inova√ß√£o e a excel√™ncia. O projeto surgiu da vis√£o de tornar a energia solar mais acess√≠vel e eficiente, aproveitando a abund√¢ncia de sol que temos em nossa regi√£o. Acreditamos que a energia solar √© o futuro, n√£o s√≥ para reduzir custos, mas tamb√©m para preservar o meio ambiente, e foi com essa convic√ß√£o que come√ßamos a atender clientes que, assim como n√≥s, desejam um mundo mais sustent√°vel."</p>
                    <div class="flex flex-col gap-3 mt-4">
                        <div class="p-4 rounded-xl shadow-sm border border-gray-200">
                            <strong class="font-semibold">Miss√£o:</strong> Tornar a energia solar acess√≠vel e eficiente, promovendo desenvolvimento local e sustentabilidade.
                        </div>
                        <div class="p-4 rounded-xl shadow-sm border border-gray-200">
                            <strong class="font-semibold">Vis√£o:</strong> Ser refer√™ncia regional em solu√ß√µes solares, impulsionando a transi√ß√£o energ√©tica no interior do pa√≠s.
                        </div>
                        <div class="p-4 rounded-xl shadow-sm border border-gray-200">
                            <strong class="font-semibold">Valores:</strong> Integridade, inova√ß√£o, compromisso com o cliente e responsabilidade ambiental.
                        </div>
                    </div>
                </div>
                <aside class="flex flex-col gap-6">
                    <div class="bg-card p-6 rounded-2xl shadow-lg border border-gray-100">
                        <h4 class="font-bold text-lg">Contato r√°pido</h4>
                        <p class="text-sm text-muted mt-2">Telefone: (75) 99984-2449<br>Email: contato@amarsolar.com.br</p>
                        <a id="quick-wa" class="mt-4 inline-block px-6 py-3 rounded-lg font-bold bg-primary text-white transition-all hover:bg-opacity-90" href="#" data-whatsapp-link>Solicitar or√ßamento</a>
                    </div>
                </aside>
            </div>
        </section>

        ---

        <!-- ======================== Se√ß√£o Portf√≥lio ======================== -->
        <section id="portfolio" class="mt-12 lg:mt-16">
            <h2 class="text-2xl font-bold lg:text-3xl">Portf√≥lio</h2>
            <p class="text-muted mt-2">Projetos realizados pela Amarsolar. Clique para ampliar e ver detalhes.</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6">
                <img src="https://placehold.co/600x400/10B981/FFF?text=Projeto+Residencial" alt="Projeto Residencial" class="w-full h-56 object-cover rounded-xl shadow-md cursor-pointer transition-transform hover:scale-105" data-portfolio-item='{"src":"https://placehold.co/600x400/10B981/FFF?text=Projeto+Residencial", "title":"Projeto Residencial", "desc":"Instala√ß√£o de 15 pain√©is de 450W em telhado de cer√¢mica, resultando em 95% de redu√ß√£o na conta de energia para uma fam√≠lia de 4 pessoas."}'>
                <img src="https://placehold.co/600x400/FACC15/FFF?text=Projeto+Comercial" alt="Projeto Comercial" class="w-full h-56 object-cover rounded-xl shadow-md cursor-pointer transition-transform hover:scale-105" data-portfolio-item='{"src":"https://placehold.co/600x400/FACC15/FFF?text=Projeto+Comercial", "title":"Projeto Comercial", "desc":"Sistema de 50 pain√©is para uma loja de varejo, cobrindo todo o consumo e eliminando os custos de eletricidade. O projeto incluiu sistemas de monitoramento em tempo real."}'>
                <img src="https://placehold.co/600x400/3B82F6/FFF?text=Projeto+Industrial" alt="Projeto Industrial" class="w-full h-56 object-cover rounded-xl shadow-md cursor-pointer transition-transform hover:scale-105" data-portfolio-item='{"src":"https://placehold.co/600x400/3B82F6/FFF?text=Projeto+Industrial", "title":"Projeto Industrial", "desc":"Desenvolvimento de uma usina solar de grande escala para uma f√°brica local, gerando cr√©ditos de energia para a matriz e reduzindo drasticamente os custos operacionais."}'>
            </div>
            
            <!-- Modal para o Portf√≥lio (Lightbox) -->
            <dialog id="portfolio-modal" class="p-6 rounded-2xl shadow-2xl backdrop:bg-black/50 w-full max-w-4xl">
                <button class="absolute top-4 right-4 text-xl text-gray-400 hover:text-gray-600 transition-colors" onclick="closeModals()">‚úï</button>
                <div class="flex flex-col lg:flex-row items-center gap-6">
                    <img id="portfolio-img" src="" alt="Amplia√ß√£o do projeto" class="w-full h-auto max-h-[60vh] object-contain rounded-xl">
                    <div class="w-full">
                        <h4 id="portfolio-title" class="text-2xl font-bold mb-2"></h4>
                        <p id="portfolio-desc" class="text-muted"></p>
                    </div>
                </div>
            </dialog>
        </section>

        ---

        <!-- ======================== Se√ß√£o de Contato e Or√ßamento ======================== -->
        <section id="orcamento" class="mt-12 lg:mt-16 bg-card p-6 rounded-xl shadow-lg border border-gray-100 animate-fade-in-up">
            <h2 class="text-2xl font-bold lg:text-3xl">Contato & Or√ßamento</h2>
            <p class="text-muted mt-2">Preencha o formul√°rio e nossa equipe entrar√° em contato.</p>
            
            <form id="contact-form" class="grid gap-4 mt-6"> 
                <input type="text" id="name" name="name" placeholder="Nome *" required class="p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary transition-colors">
                <input type="tel" id="phone" name="phone" placeholder="Telefone *" required class="p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary transition-colors">
                <select id="projectType" name="projectType" required class="p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary transition-colors">
                    <option value="">Tipo de projeto*</option>
                    <option>Residencial</option>
                    <option>Comercial</option>
                    <option>Industrial</option>
                    <option>Outro</option>
                </select>
                <input type="number" id="consumption" name="consumption" placeholder="Consumo (kWh/m√™s) *" required class="p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary transition-colors">
                <textarea id="message" name="message" placeholder="Mensagem" rows="4" class="p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary transition-colors"></textarea>
                
                <div class="flex items-center gap-4 mt-2">
                    <button type="submit" class="px-6 py-3 rounded-lg font-bold bg-primary text-white transition-all hover:-translate-y-1 hover:shadow-xl">Enviar</button>
                    <div id="form-status" class="text-sm text-muted"></div>
                </div>
            </form>
        </section>

        ---

        <!-- ======================== Se√ß√£o de Depoimentos ======================== -->
        <section class="mt-12 lg:mt-16">
            <h2 class="text-2xl font-bold lg:text-3xl">O que nossos clientes dizem</h2>
            <div id="testimonials" class="flex overflow-x-auto gap-4 mt-6 pb-4 snap-x snap-mandatory scroll-smooth">
                <div class="flex-shrink-0 w-[calc(100vw-4rem)] sm:w-[320px] p-5 rounded-xl shadow-md bg-card border border-gray-100 snap-center">
                    "Excelente servi√ßo e redu√ß√£o real na conta de energia." ‚Äî Maria, Amargosa
                </div>
                <div class="flex-shrink-0 w-[calc(100vw-4rem)] sm:w-[320px] p-5 rounded-xl shadow-md bg-card border border-gray-100 snap-center">
                    "Equipe r√°pida e atenciosa. Recomendo." ‚Äî Jo√£o, Itaquara
                </div>
                <div class="flex-shrink-0 w-[calc(100vw-4rem)] sm:w-[320px] p-5 rounded-xl shadow-md bg-card border border-gray-100 snap-center">
                    "Projeto comercial que otimizou nossos custos." ‚Äî Mercado Amargosa
                </div>
                <div class="flex-shrink-0 w-[calc(100vw-4rem)] sm:w-[320px] p-5 rounded-xl shadow-md bg-card border border-gray-100 snap-center">
                    "Um investimento que valeu a pena em todos os sentidos." ‚Äî Carlos, Amargosa
                </div>
                <div class="flex-shrink-0 w-[calc(100vw-4rem)] sm:w-[320px] p-5 rounded-xl shadow-md bg-card border border-gray-100 snap-center">
                    "Atendimento impec√°vel e solu√ß√£o que superou as expectativas." ‚Äî Valdir, Amargosa
                </div>
            </div>
        </section>
    </main>

    <!-- ======================== Rodap√© ======================== -->
    <footer class="mt-12 lg:mt-16 py-6 border-t border-gray-200 bg-white shadow-inner">
        <div class="container mx-auto px-4 max-w-7xl flex flex-col md:flex-row justify-between items-center gap-4">
            <div>
                <strong class="text-lg">Amarsolar</strong>
                <p class="text-sm text-muted">Energia solar em Amargosa ‚Äî compromisso com o futuro.</p>
            </div>
            <div class="flex gap-4">
                <a href="https://www.instagram.com/amarsolar.com.br/" class="text-primary hover:text-accent transition-colors">Instagram</a>
            </div>
        </div>
    </footer>

    <!-- ======================== Bot√µes Flutuantes e Modais ======================== -->
    <!-- Bot√£o flutuante do Chatbot -->
    <div class="fixed bottom-4 right-4 p-3 rounded-full bg-primary text-white shadow-xl cursor-pointer transition-transform hover:scale-110 z-50" id="chatbot-btn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" class="w-6 h-6"><path d="M495.6 20.2c-15.6-20.9-40.4-31.3-66.8-29.4-44.1 3.2-87.1 27.6-116.1 62.4-28.7 34.4-44.5 76.5-44.5 119.5s15.8 85.1 44.5 119.5c29 34.8 72 59.2 116.1 62.4 26.4 1.9 51.2-8.5 66.8-29.4 20.3-27.4 31.9-61.9 31.9-98.1s-11.6-70.7-31.9-98.1zM116.4 492.3c-15.6 20.9-40.4 31.3-66.8 29.4-44.1-3.2-87.1-27.6-116.1-62.4-28.7-34.4-44.5-76.5-44.5-119.5s15.8-85.1 44.5-119.5c29-34.8 72-59.2 116.1-62.4 26.4-1.9 51.2 8.5 66.8 29.4 20.3 27.4 31.9 61.9 31.9 98.1s-11.6 70.7-31.9 98.1z"/></svg>
    </div>
    
    <!-- Modal do Chatbot -->
    <div id="chatbot-modal" class="hidden fixed bottom-20 right-4 w-[calc(100vw-4rem)] max-w-sm h-auto max-h-[80vh] rounded-xl shadow-2xl flex flex-col z-50 transform scale-95 opacity-0 transition-all duration-300 ease-out-circ">
        <div class="bg-primary text-white p-4 rounded-t-xl flex justify-between items-center">
            <span>Chatbot Amarsolar</span>
            <button class="text-white hover:text-gray-300" onclick="hideChatbot()">‚úï</button>
        </div>
        <div id="chat-body" class="flex-1 p-4 overflow-y-auto bg-white flex flex-col gap-2"></div>
        <div class="p-4 bg-gray-50 border-t border-gray-200 flex gap-2">
            <input type="text" id="chat-input" placeholder="Digite sua mensagem..." class="flex-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-1 focus:ring-primary">
            <button id="chat-send" class="p-2 rounded-lg bg-primary text-white hover:bg-opacity-90">‚ñ∂</button>
        </div>
    </div>

    <!-- ======================== Script JavaScript ======================== -->
    <script>
        // Configura√ß√µes e Mapeamento de Dados
        const WHATSAPP_NUMBER = '5575999842449'; // Coloque seu n√∫mero aqui
        
        // Conte√∫dos para os modais da se√ß√£o "Entenda"
        const topics = {
            'o-que-e': {
                title: 'O que √© energia solar?',
                content: 'A energia solar fotovoltaica converte luz do sol em eletricidade atrav√©s de pain√©is solares. √â uma fonte de energia limpa, renov√°vel e reduz a depend√™ncia de combust√≠veis f√≥sseis.'
            },
            'como-funciona': {
                title: 'Como funciona a instala√ß√£o?',
                content: 'O processo come√ßa com um estudo de viabilidade e um projeto customizado. Em seguida, instalamos os pain√©is e o inversor e, por fim, conectamos o sistema √† rede el√©trica.'
            },
            'economia': {
                title: 'Economia na conta de luz',
                content: 'Um sistema bem projetado pode reduzir sua conta de energia em at√© 95%. O retorno sobre o investimento (ROI) √© r√°pido e o sistema se paga em poucos anos.'
            },
            'aneel': {
                title: 'Regulamenta√ß√µes (ANEEL)',
                content: 'A ANEEL regulamenta o sistema de compensa√ß√£o de energia (net metering), permitindo que voc√™ use cr√©ditos de energia gerados em momentos de alta produ√ß√£o. √â essencial seguir as normas para a conex√£o segura √† rede.'
            },
            'taxacao': {
                title: 'Taxa√ß√£o',
                content: 'Tributos e tarifas de uso da rede el√©trica variam conforme a regi√£o. Consideramos todos esses custos para garantir que seu or√ßamento seja preciso e completo.'
            },
            'falta-luz': {
                title: 'Falta de luz',
                content: 'Por seguran√ßa, sistemas solares conectados √† rede s√£o desligados automaticamente em caso de queda de energia. Para ter eletricidade durante um apag√£o, √© necess√°rio um sistema com baterias.'
            }
        };
        
        // Fun√ß√µes que precisam estar no escopo global para os atributos onclick
        function openModal(modalId, data = null) {
            const modal = document.getElementById(modalId);
            if (!modal) return;
            
            if (data) {
                if (modalId === 'topic-modal') {
                    const topicContent = document.getElementById('topic-content');
                    if (topicContent) {
                        topicContent.innerHTML = `
                            <h3 class="text-xl font-bold">${data.title}</h3>
                            <p class="text-muted mt-2">${data.content}</p>
                        `;
                    }
                } else if (modalId === 'portfolio-modal') {
                    const portfolioImg = document.getElementById('portfolio-img');
                    const portfolioTitle = document.getElementById('portfolio-title');
                    const portfolioDesc = document.getElementById('portfolio-desc');
                    if (portfolioImg) portfolioImg.src = data.src;
                    if (portfolioTitle) portfolioTitle.textContent = data.title;
                    if (portfolioDesc) portfolioDesc.textContent = data.desc;
                }
            }
            modal.showModal();
        }
        
        function closeModals() {
            document.querySelectorAll('dialog').forEach(modal => modal.close());
        }

        // Esta fun√ß√£o agora √© chamada diretamente pelos listeners do DOM
        function openTopic(key) {
            openModal('topic-modal', topics[key]);
        }
        
        // Esta fun√ß√£o agora √© chamada pelos listeners do DOM
        function openPortfolio(data) {
            openModal('portfolio-modal', data);
        }

        function hideChatbot() {
            const chatbotModal = document.getElementById('chatbot-modal');
            if (chatbotModal) {
                chatbotModal.classList.remove('opacity-100', 'scale-100');
                chatbotModal.classList.add('opacity-0', 'scale-95');
                setTimeout(() => {
                    chatbotModal.classList.add('hidden');
                }, 300);
            }
        }

        // Adiciona um listener para garantir que o c√≥digo s√≥ rode ap√≥s o DOM estar totalmente carregado
        document.addEventListener('DOMContentLoaded', () => {
            // L√≥gica para o simulador de economia
            const simBtn = document.getElementById('sim-btn');
            if (simBtn) {
                simBtn.addEventListener('click', () => {
                    const kwhInput = document.getElementById('sim-kwh');
                    const priceInput = document.getElementById('sim-price');
                    const resultDiv = document.getElementById('sim-result');
                    
                    const kwh = parseFloat(kwhInput.value) || 0;
                    const price = parseFloat(priceInput.value) || 0.8;
                    
                    if (kwh <= 0) {
                        resultDiv.textContent = 'Por favor, informe um consumo v√°lido.';
                        return;
                    }
                    
                    const monthlyCost = kwh * price;
                    const monthlySaving = monthlyCost * 0.8;
                    const yearlySaving = monthlySaving * 12;
                    
                    resultDiv.textContent = `Economia aprox.: R$ ${monthlySaving.toFixed(2)}/m√™s ‚Äî R$ ${yearlySaving.toFixed(2)}/ano`;
                });
            }
            
            // L√≥gica para o formul√°rio de contato
            const contactForm = document.getElementById('contact-form');
            if (contactForm) {
                contactForm.addEventListener('submit', (event) => {
                    event.preventDefault();
                    const formStatus = document.getElementById('form-status');
                    const name = document.getElementById('name').value;
                    const phone = document.getElementById('phone').value;
                    const type = document.getElementById('projectType').value;
                    const consumption = document.getElementById('consumption').value;
                    const message = document.getElementById('message').value;
                    
                    const whatsappMessage = `Ol√°! Gostaria de um or√ßamento de energia solar. 
Nome: ${name} 
Telefone: ${phone} 
Tipo de projeto: ${type} 
Consumo (kWh/m√™s): ${consumption} 
Mensagem: ${message || 'N√£o h√° mensagem adicional'}`;
                    
                    const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(whatsappMessage)}`;
                    
                    window.open(whatsappUrl, '_blank');
                    
                    if (formStatus) {
                        formStatus.textContent = 'Redirecionando para o WhatsApp...';
                        formStatus.style.color = '#6b6f76';
                    }
                });
            }
            
            // L√≥gica para o chatbot simples
            const chatbotBtn = document.getElementById('chatbot-btn');
            const chatbotModal = document.getElementById('chatbot-modal');
            const chatInput = document.getElementById('chat-input');
            const chatBody = document.getElementById('chat-body');
            const chatSend = document.getElementById('chat-send');
            
            let chatState = 'initial';
            let chatData = {};
            
            function addMessage(text, sender) {
                if (!chatBody) return;
                const msg = document.createElement('div');
                msg.classList.add('chat-message', 'p-3', 'rounded-xl', 'max-w-[80%]', 'break-words', 'animate-fade-in-up');
                if (sender === 'user') {
                    msg.classList.add('bg-blue-100', 'self-end');
                } else {
                    msg.classList.add('bg-gray-100', 'self-start');
                }
                msg.textContent = text;
                chatBody.appendChild(msg);
                chatBody.scrollTop = chatBody.scrollHeight;
            }
            
            function processChat(message) {
                switch(chatState) {
                    case 'initial':
                        addMessage('Ol√°! Sou o assistente virtual da Amarsolar. Qual o seu nome?', 'bot');
                        chatState = 'askName';
                        break;
                    case 'askName':
                        chatData.name = message;
                        addMessage(`Ol√°, ${message}! Qual √© o seu consumo m√©dio mensal de energia (em kWh)?`, 'bot');
                        chatState = 'askConsumption';
                        break;
                    case 'askConsumption':
                        chatData.consumption = message;
                        addMessage('Perfeito! Para finalizar, por favor, digite seu telefone para contato.', 'bot');
                        chatState = 'askPhone';
                        break;
                    case 'askPhone':
                        chatData.phone = message;
                        addMessage('Obrigado! Entraremos em contato em breve. Se preferir, pode preencher o formul√°rio completo.', 'bot');
                        chatState = 'final';
                        break;
                    default:
                        addMessage('Desculpe, n√£o entendi. Tente usar o formul√°rio para um atendimento mais completo.', 'bot');
                        break;
                }
            }
            
            function handleChatInput() {
                const input = chatInput.value.trim();
                if (input === '') return;
                addMessage(input, 'user');
                chatInput.value = '';
                setTimeout(() => {
                    processChat(input);
                }, 500);
            }
            
            if (chatbotBtn) {
                chatbotBtn.addEventListener('click', () => {
                    const isVisible = chatbotModal.classList.toggle('hidden');
                    if (!isVisible) {
                        chatbotModal.classList.remove('opacity-0', 'scale-95');
                        chatbotModal.classList.add('opacity-100', 'scale-100');
                        processChat('');
                    }
                });
            }

            if (chatSend) {
                chatSend.addEventListener('click', handleChatInput);
            }
            if (chatInput) {
                chatInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        handleChatInput();
                    }
                });
            }

            // Anima√ß√£o do carrossel de depoimentos
            const testimonialsContainer = document.getElementById('testimonials');
            let scrollInterval;
            
            function startScroll() {
                if (!testimonialsContainer) return;
                scrollInterval = setInterval(() => {
                    const currentScroll = testimonialsContainer.scrollLeft;
                    const maxScroll = testimonialsContainer.scrollWidth - testimonialsContainer.clientWidth;
                    
                    if (currentScroll >= maxScroll) {
                        testimonialsContainer.scrollTo({ left: 0, behavior: 'smooth' });
                    } else {
                        const firstCard = testimonialsContainer.querySelector('.flex-shrink-0');
                        if (firstCard) {
                            testimonialsContainer.scrollBy({ left: firstCard.offsetWidth + 16, behavior: 'smooth' });
                        }
                    }
                }, 3500);
            }

            function stopScroll() {
                clearInterval(scrollInterval);
            }
            
            if (testimonialsContainer) {
                testimonialsContainer.addEventListener('mouseenter', stopScroll);
                testimonialsContainer.addEventListener('mouseleave', startScroll);
                testimonialsContainer.addEventListener('touchstart', stopScroll);
                testimonialsContainer.addEventListener('touchend', startScroll);
                
                // Inicia a rolagem no carregamento da p√°gina
                startScroll();
            }

            // Adiciona a l√≥gica de rolagem suave para os links de navega√ß√£o
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                const href = anchor.getAttribute('href');
                if (href && href !== '#') {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const targetElement = document.querySelector(href);
                        if (targetElement) {
                            targetElement.scrollIntoView({
                                behavior: 'smooth'
                            });
                        }
                    });
                }
            });

            // Adiciona a l√≥gica de rolagem para o bot√£o "Pe√ßa um or√ßamento"
            const requestBudgetButton = document.querySelector('[data-scroll-to="orcamento"]');
            if (requestBudgetButton) {
                requestBudgetButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetElement = document.getElementById('orcamento');
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            }
            
            // L√≥gica para abrir modais com base nos data-attributes
            document.querySelectorAll('[data-topic]').forEach(element => {
                element.addEventListener('click', (e) => {
                    const topicKey = element.getAttribute('data-topic');
                    openTopic(topicKey);
                });
            });

            document.querySelectorAll('[data-portfolio-item]').forEach(element => {
                element.addEventListener('click', (e) => {
                    const data = JSON.parse(element.getAttribute('data-portfolio-item'));
                    openPortfolio(data);
                });
            });

            // Adiciona a l√≥gica para o bot√£o "Solicitar or√ßamento" no painel "Contato r√°pido"
            const quickWaButton = document.getElementById('quick-wa');
            if (quickWaButton) {
                quickWaButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    // Constr√≥i a URL do WhatsApp com a mensagem pr√©-preenchida
                    const whatsappMessage = `Ol√°! Gostaria de um or√ßamento de energia solar.`;
                    const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(whatsappMessage)}`;
                    window.open(whatsappUrl, '_blank');
                });
            }
        });
    </script>
</body>
</html>
